JVM에서의 Class Loader란

Class Loader는 .class 파일(자바 바이트코드)을 읽어서 
JVM의 런타임 메모리에 적제시키는 JVM 구성요소 이다

Class Loader가 하는일

1. 로딩(Loading)

로딩 단계에서는 java나 kotlin 파일을 컴파일해서 나온 .class 파일을 메모리에 올리는 단계이다

2. 링킹(Linking)

링킹은 클래스 내부 심볼릭 참조를 메모리 연결하는과정이다

링킹은 총 3단계가있는데
1. 검증(Verification)
   .class 파일이 JVM이 이해할 수 있는 정상적인 포맷인지 검사한다
포맷이 깨졌거나, 악성코드나 보안에 위협이 되는 코드가 있으면 막는다
JVM이 안전하게 실행되도록 하는 보안 검사라고 보면 된다
2. 준비(Preparation)
   static 변수들에 메모리 공간을 할당한다 이때 초기값은 들어가지 않고, 숫자는 0 참조형은 null 이런 기본값만 들어간다
진짜 값은 아직 안 넣음(초기화 단계에서 넣음)

3. 해결(Resolution)
   클래스 내부 심볼릭 레퍼런스(문자열 이름)를 실제 메모리 주소로 변환한다 심볼릭 레퍼런스는
   클래스 이름 (java/lang/String)
   메소드 호출
   필드 접근 등 다양한 형태로 존재한다
    
오해할수 있는 부분
    여기서 "import 문"은 컴파일 시점에서 이미 처리돼서,
    해결(Resolution)에서는 바이트코드 안 심볼릭 참조를 변환한다

3. 초기화(Initialization)

여기서는 말 그대로 컴파일타임에 가까운 런타임에 초기화되는 부분들을 실행한다
예시로는 init 블럭, companion object 속성, 블럭이 있다 